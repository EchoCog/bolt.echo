name = "bolt-echo"
main = "./functions/[[path]].ts"
compatibility_flags = ["nodejs_compat"]
compatibility_date = "2024-07-01"

workers_dev = true
account_id = "d1fcd8dbbd35aec43e5499200f6baede"

[build]
command = "npm run build"
watch_dir = "build/client"

[site]
bucket = "./build/client"
kv_namespaces = [
    { binding = "__STATIC_CONTENT", id = "47281d46d88b456b88b860d33fd2bc3a", preview_id = "47281d46d88b456b88b860d33fd2bc3a" }
]

[build.upload]
format = "service-worker"

[env.production]
name = "bolt-echo"
routes = [
    { pattern = "echocog.org", custom_domain = true }
]

[env.staging]
name = "bolt-echo-staging"
routes = [
    { pattern = "staging.echocog.org", custom_domain = true }
]
